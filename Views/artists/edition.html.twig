{% extends "template.html.twig" %}
{# enfant de artists #}

{% block title %}Edition Artiste
{% endblock %}

{% block body %}

	{% set admin = '1' %}

	{% if admin %}

		<div class="container">

			<div class="row"> <!-- Début row -->

				<div class="col-12 p-4 bg-light text-dark">
				
					<a href="{{ baseUrl }}/films">Films</a>
					&rarr; <a href="{{ baseUrl }}/artists/">Artistes</a>
					&rarr; Edition
						
				</div> 

			</div>

		</div>

		<div class="container bg-light text-dark mb-5 pt-3 pb-3">

			<h3>Edition Artiste</h3>
			<form method="post" action="{{ baseUrl }}/artists/update/{{ result.id_a }}" enctype="multipart/form-data">

				{# ##########################################################################################################
				######## Nom Prenom #########################################################################################
				########################################################################################################## #}

				<div>Prenom : </div>
				<div><input type="text" name="prenom" class="form-control" value="{{ result.prenom_a }}"></div>

				<div>Nom : </div>
				<div><input type="text" name="nom" class="form-control" value="{{ result.nom_a }}"></div>

				{# ##########################################################################################################
				######## Date De Naissance ##################################################################################
				########################################################################################################## #}

				<div style="margin-top:20px;">Date De Naissance : 
				<div><input type="text" name="date_de_naissance" class="form-control" placeholder="YYYY-MM-DD" value="{{ result.date_de_naissance_a }}"></div>

                {# ######################################  Jouer  #######################################################}

                <div style="margin-top:20px;">Films dans lesquels {{ result.prenom_a }} {{ result.nom_a }} a joué:</div>

                <div>
                
                    <select name="jouer[]" class="form-control" multiple="multiple">

                        {% for film in result.allfilms %}

                            {% if film.id_f in result.film_jouer %}

                                <option value="{{ film.id_f }}" selected="selected">* {{ film.titre_f|title }}</option>

                            {% else %}

                                <option value="{{ film.id_f }}" >{{ film.titre_f|title }}</option>

                            {% endif %}


                        {% endfor %}

                    </select>
                
                </div>

                {# ######################################  Réaliser  #######################################################}

                <div style="margin-top:20px;">Films réalisé par {{ result.prenom_a }} {{ result.nom_a }}:</div>

                <div>

                    <select name="realiser[]" class="form-control" multiple="multiple">

                        {% for film in result.allfilms %}

                            {% if film.id_f in result.film_realiser %}

                                <option value="{{ film.id_f }}" selected="selected">* {{ film.titre_f|title }}</option>

                            {% else %}

                                <option value="{{ film.id_f }}" >{{ film.titre_f|title }}</option>

                            {% endif %}


                        {% endfor %}

                    </select>
                
                </div>

				{# #############################################################################################
				######### Biographie ##########################################################################
				############################################################################################# #}

				<div style="margin-top:20px;">Biographie : </div>

				<div><textarea name="biographie" class="form-control" rows="10">{{ result.biographie_a }}</textarea></div>

				{# ##########################################################################################################
				######## Photo ##############################################################################################
				########################################################################################################## #}

				<div style="margin-top:20px;">Photo : <br>

					{% if result.photo_a %}

					<img src="{{ baseUrl }}/assets/images/artistes/{{ result.photo_a }}" style="max-height:200px;">

					{% endif %}
   
				</div>
        
				<div><input type="file" name="newphoto" accept="image/png, image/jpeg" class="form-control" style="height:50px;"></div>
				<div><input type="hidden" name="photo" class="form-control" value="{{ result.photo_a }}"></div>

				{# ##########################################################################################################
				######## Submit ############################################################################################
				########################################################################################################## #}

				<div style="text-align:center; margin-top:20px;">

					<input type="submit" class="btn btn-success mr-1" value="Enregistrer les modifications">

				</div>

				{# #############################################################################################
				#############################################################################################
				############################################################################################# #}

			</form>

		</div>

	{% else %}

		<div class="block-centre">Vous n'avez pas les droits pour afficher cette page</div>

	{% endif %}

{% endblock %}
