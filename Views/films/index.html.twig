{% extends "template.html.twig" %}

{% block title %}Films{% endblock %}

{% block body %}

	<div class="container">

		<div
			class="row">

			<div class="col-12 p-4 bg-light text-dark">

				{% if admin %}

					<a href="{{baseUrl}}/films/add" class="float-right btn btn-sm btn-success">Ajouter un film</a>

				{% endif %}

				{% if genrename.genre_du_film %}

					<a href="{{ baseUrl }}/films/">Films</a>
					&rarr; {{ genrename.genre_du_film }}

				{% else %}

					Films 

				{% endif %}

			</div>

		</div>

	</div>

	<div class="container bg-light text-dark mt-1 mb-3 ">

		<div class="row">

			<div class="col-9">

				<div class="row">

					{% for film in films %}

						<div class="col-3 ">

							<a href="{{baseUrl}}/films/show/{{ film.id_f }}/{{ film.url }}">

								<div><img class="img-fluid" src="{{baseUrl}}/assets/images/films/{{ film.poster_f }}" alt="image film" style="max-height:200px;"/></div>

								<div>{{ film.titre_f }}</div>

							</a>

						</div>

					{% endfor %}

				</div>

			</div>

			<div class="col-3" style="background:#eee; padding:20px;">
	
				<p class="bg-dark text-light font-weight-bold text-center">FILTRES</p>

				<div class="mt-3">

					{% if admin %}

						<a href="{{baseUrl}}/films/addgenre" class="btn btn-sm btn-success float-right">Add</a>

					{% endif %}

				</div>

				<div class="mt-3">

					{% if genreActif %}

						<a href="{{baseUrl}}/films" style="color:#444;">All</a>

					{% else %}

						<a href="{{baseUrl}}/films" style="color:black; font-weight:bold">All</a>

					{% endif %}

				</div>

				{% for genre in genres %}

					<div class="mt-3">
						<a href="{{baseUrl}}/films/editiongenre/{{ genre.id_g }}" class="btn btn-sm btn-light float-right">Edit</a>

						{% if genre.id_g in genreActif %}

							<a href="{{baseUrl}}/films?genre={{ genre.id_g }}" style="color:black; font-weight:bold">{{ genre.genre_du_film }}</a>

						{% else %}

							<a href="{{baseUrl}}/films?genre={{ genre.id_g }}" style="color:#444;">{{ genre.genre_du_film }}</a>

						{% endif %}
						
					</div>

				{% endfor %}

			</div>

		</div>

	{% endblock %}
